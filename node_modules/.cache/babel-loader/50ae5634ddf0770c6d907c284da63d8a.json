{"ast":null,"code":"import _classCallCheck from\"C:/Users/saumy/Desktop/food_item_detection/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/saumy/Desktop/food_item_detection/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/saumy/Desktop/food_item_detection/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/saumy/Desktop/food_item_detection/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import ParticlesBg from'particles-bg';import FoodDetection from'./components/FoodDetection/FoodDetection';import Logo from'./components/Logo/Logo';import ImageLink from'./components/ImageLink/ImageLink';import'./App.css';/* require('dotenv').config() */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={input:'',imageUrl:'',data:[]};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.fetchData=function(data){var myArray=[];data.outputs[0].data.concepts.slice(0,5).forEach(function(element){myArray.push(element.name);});return myArray;};_this.displayData=function(fetchedData){_this.setState({data:fetchedData});};_this.onInputChange=function(event){_this.setState({input:event.target.value});};_this.onButtonSubmit=function(){_this.setState({imageUrl:_this.state.input});var PAT=process.env.PAT;var USER_ID=process.env.USER_ID;var APP_ID=process.env.APP_ID;var MODEL_ID='food-item-recognition';var IMAGE_URL=_this.state.input;var raw=JSON.stringify({\"user_app_id\":{\"user_id\":USER_ID,\"app_id\":APP_ID},\"inputs\":[{\"data\":{\"image\":{\"url\":IMAGE_URL}}}]});var requestOptions={method:'POST',headers:{'Accept':'application/json','Authorization':'Key '+PAT},body:raw};fetch(\"https://api.clarifai.com/v2/models/\"+MODEL_ID+\"/outputs\",requestOptions).then(function(response){return response.json();}).then(function(result){return _this.displayData(_this.fetchData(result));}).catch(function(error){return console.log('error',error);});};_this.state=initialState;return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,imageUrl=_this$state.imageUrl,data=_this$state.data,input=_this$state.input;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ParticlesBg,{type:\"particles\",bg:true}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(ImageLink,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit,input:input}),/*#__PURE__*/_jsx(FoodDetection,{data:data,imageUrl:imageUrl})]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","ParticlesBg","FoodDetection","Logo","ImageLink","initialState","input","imageUrl","data","App","fetchData","myArray","outputs","concepts","slice","forEach","element","push","name","displayData","fetchedData","setState","onInputChange","event","target","value","onButtonSubmit","state","PAT","process","env","USER_ID","APP_ID","MODEL_ID","IMAGE_URL","raw","JSON","stringify","requestOptions","method","headers","body","fetch","then","response","json","result","catch","error","console","log"],"sources":["C:/Users/saumy/Desktop/food_item_detection/front-end/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport ParticlesBg from 'particles-bg'\nimport FoodDetection from './components/FoodDetection/FoodDetection';\nimport Logo from './components/Logo/Logo';\nimport ImageLink from './components/ImageLink/ImageLink';\nimport './App.css';\n\n/* require('dotenv').config() */\n\nconst initialState = {\n  input: '',\n  imageUrl: '',\n  data: [],\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = initialState;\n  }\n\n  fetchData = (data) => {\n    let myArray = [];\n    data.outputs[0].data.concepts.slice(0,5).forEach(element => {myArray.push(element.name)});\n    return myArray;\n  }\n\n  displayData = (fetchedData) => {\n    this.setState({data: fetchedData});\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n\n  onButtonSubmit = () => {\n    this.setState({imageUrl: this.state.input});\n    const PAT = process.env.PAT;\n    const USER_ID = process.env.USER_ID;       \n    const APP_ID = process.env.APP_ID;\n    const MODEL_ID = 'food-item-recognition';   \n    const IMAGE_URL = this.state.input;\n\n    const raw = JSON.stringify({\n        \"user_app_id\": {\n            \"user_id\": USER_ID,\n            \"app_id\": APP_ID\n        },\n        \"inputs\": [\n            {\n                \"data\": {\n                    \"image\": {\n                        \"url\": IMAGE_URL\n                    }\n                }\n            }\n        ]\n    });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Authorization': 'Key ' + PAT\n        },\n        body: raw\n    };\n\n    fetch(\"https://api.clarifai.com/v2/models/\" + MODEL_ID + \"/outputs\", requestOptions)\n        .then(response => response.json())\n        .then(result => this.displayData(this.fetchData(result)))\n        .catch(error => console.log('error', error));\n  }\n\n  render() {\n    const { imageUrl, data, input } = this.state;\n    return (\n      <div className=\"App\">\n        <ParticlesBg type=\"particles\" bg={true} />\n        <div>\n          <Logo />\n          <ImageLink\n            onInputChange={this.onInputChange}\n            onButtonSubmit={this.onButtonSubmit}\n            input={input}\n          />\n          <FoodDetection data={data} imageUrl={imageUrl} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}