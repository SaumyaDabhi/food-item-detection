{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saumy\\\\Desktop\\\\food_item_detection\\\\front-end\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport ParticlesBg from 'particles-bg';\nimport FoodDetection from './components/FoodDetection/FoodDetection';\nimport Logo from './components/Logo/Logo';\nimport ImageLink from './components/ImageLink/ImageLink';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  input: '',\n  imageUrl: '',\n  data: []\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.fetchData = data => {\n      let myArray = [];\n      data.outputs[0].data.concepts.slice(0, 5).forEach(element => {\n        myArray.push(element.name);\n      });\n      return myArray;\n    };\n\n    this.displayData = fetchedData => {\n      this.setState({\n        data: fetchedData\n      });\n    };\n\n    this.onInputChange = event => {\n      this.setState({\n        input: event.target.value\n      });\n    };\n\n    this.onButtonSubmit = () => {\n      this.setState({\n        imageUrl: this.state.input\n      });\n      const PAT = '97302d14698c435fa9e6e0cdf484252b';\n      const USER_ID = 'x88eu358xrhw';\n      const APP_ID = '55c0d13af0c44ab2aa27fa2b39fa4add';\n      const MODEL_ID = 'food-item-recognition';\n      const IMAGE_URL = this.state.input;\n      const raw = JSON.stringify({\n        \"user_app_id\": {\n          \"user_id\": USER_ID,\n          \"app_id\": APP_ID\n        },\n        \"inputs\": [{\n          \"data\": {\n            \"image\": {\n              \"url\": IMAGE_URL\n            }\n          }\n        }]\n      });\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Authorization': 'Key ' + PAT\n        },\n        body: raw\n      };\n      fetch(\"https://api.clarifai.com/v2/models/\" + MODEL_ID + \"/outputs\", requestOptions).then(response => response.json()).then(result => this.displayData(this.fetchData(result))).catch(error => console.log('error', error));\n    };\n\n    this.state = initialState;\n  }\n\n  render() {\n    const {\n      imageUrl,\n      data\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(ParticlesBg, {\n        type: \"particles\",\n        bg: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ImageLink, {\n          onInputChange: this.onInputChange,\n          onButtonSubmit: this.onButtonSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FoodDetection, {\n          data: data,\n          imageUrl: imageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","ParticlesBg","FoodDetection","Logo","ImageLink","initialState","input","imageUrl","data","App","constructor","fetchData","myArray","outputs","concepts","slice","forEach","element","push","name","displayData","fetchedData","setState","onInputChange","event","target","value","onButtonSubmit","state","PAT","USER_ID","APP_ID","MODEL_ID","IMAGE_URL","raw","JSON","stringify","requestOptions","method","headers","body","fetch","then","response","json","result","catch","error","console","log","render"],"sources":["C:/Users/saumy/Desktop/food_item_detection/front-end/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport ParticlesBg from 'particles-bg'\nimport FoodDetection from './components/FoodDetection/FoodDetection';\nimport Logo from './components/Logo/Logo';\nimport ImageLink from './components/ImageLink/ImageLink';\nimport './App.css';\n\nconst initialState = {\n  input: '',\n  imageUrl: '',\n  data: [],\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = initialState;\n  }\n\n  fetchData = (data) => {\n    let myArray = [];\n    data.outputs[0].data.concepts.slice(0,5).forEach(element => {myArray.push(element.name)});\n    return myArray;\n  }\n\n  displayData = (fetchedData) => {\n    this.setState({data: fetchedData});\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n\n  onButtonSubmit = () => {\n    this.setState({imageUrl: this.state.input});\n    const PAT = '97302d14698c435fa9e6e0cdf484252b';\n    const USER_ID = 'x88eu358xrhw';       \n    const APP_ID = '55c0d13af0c44ab2aa27fa2b39fa4add';\n    const MODEL_ID = 'food-item-recognition';   \n    const IMAGE_URL = this.state.input;\n\n    const raw = JSON.stringify({\n        \"user_app_id\": {\n            \"user_id\": USER_ID,\n            \"app_id\": APP_ID\n        },\n        \"inputs\": [\n            {\n                \"data\": {\n                    \"image\": {\n                        \"url\": IMAGE_URL\n                    }\n                }\n            }\n        ]\n    });\n\n    const requestOptions = {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Authorization': 'Key ' + PAT\n        },\n        body: raw\n    };\n\n    fetch(\"https://api.clarifai.com/v2/models/\" + MODEL_ID + \"/outputs\", requestOptions)\n        .then(response => response.json())\n        .then(result => this.displayData(this.fetchData(result)))\n        .catch(error => console.log('error', error));\n  }\n\n  render() {\n    const { imageUrl, data } = this.state;\n    return (\n      <div className=\"App\">\n        <ParticlesBg type=\"particles\" bg={true} />\n        <div>\n          <Logo />\n          <ImageLink\n            onInputChange={this.onInputChange}\n            onButtonSubmit={this.onButtonSubmit}\n          />\n          <FoodDetection data={data} imageUrl={imageUrl} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}